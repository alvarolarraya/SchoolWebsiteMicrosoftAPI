<!DOCTYPE html>
<html style="font-size: 16px;">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta charset="utf-8">
    <meta name="keywords" content="Life Learn Create, Discover Our University, The Benefits of University Education, 250, +23k, 24, 122, What our customers say, Empire State Building, Make a positive impact on society, Follow Us">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>ASIGNATURA</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
<link rel="stylesheet" href="ASIGNATURA.css" media="screen">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <meta name="generator" content="Nicepage 4.8.2, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">


    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script type="text/javascript">
	function cargarasignaturas(curso,semestre) {
        var variableACambiar = "#asignatura" + curso + semestre;
        var variableAInvisibilizar = "#asignatura" + curso + ((semestre%2)+1);
		$.ajax({
			type: "GET",
			url: "controlador.php?accion=asignaturas&idcurso="+curso+"&semestre="+semestre,
			success: function (response) {
                $(variableACambiar).html(response);
                $(variableAInvisibilizar).html("");
			}
		});
	}

    function mostrarBotonAccion(){
        const urlString = window.location.search;
        const urlParams = new URLSearchParams(urlString);
        const idAsignatura = urlParams.get('idAsignatura');
        var url = "controlador.php?accion=getEstaEnAsignatura&idAsignatura=##idAsignatura##";
        url = url.replace('##idAsignatura##',idAsignatura);
        $.ajax({
			type: "GET",
			url: url,
			success: function (response) {
                if(response !=''){
                    const idUsuario = urlParams.get('idUsuario');
                    const nombreAsignatura = urlParams.get('nombreAsignatura');
                    html = '<a href=\"controlador.php?accion=##textoAccion##UsuarioAsignatura&idAsignatura=##idAsignatura##&idUsuario=##idUsuario##&nombreAsignatura=##nombreAsignatura##\" class=\"u-btn u-btn-round u-button-style u-gradient u-hover-palette-1-base u-none u-radius-50 u-text-body-alt-color u-text-hover-palette-5-base u-btn-1\"><span class=\"u-icon\"><svg class=\"u-svg-content\" viewBox=\"0 0 490.667 490.667\" x=\"0px\" y=\"0px\" style=\"width: 1em; height: 1em;\"><circle cx=\"245.333\" cy=\"160\" r=\"74.667\"></circle><circle cx=\"394.667\" cy=\"224\" r=\"53.333\"></circle><path d=\"M245.333,256c-76.459,0-138.667,62.208-138.667,138.667c0,5.888,4.779,10.667,10.667,10.667h256 c5.888,0,10.667-4.779,10.667-10.667C384,318.208,321.792,256,245.333,256z\"></path><path d=\"M115.904,300.971c-6.528-1.387-13.163-2.304-19.904-2.304c-52.928,0-96,43.072-96,96c0,5.888,4.779,10.667,10.667,10.667    h76.629c-1.195-3.349-1.963-6.912-1.963-10.667C85.333,359.659,96.768,327.339,115.904,300.971z\"></path><path d=\"M394.667,298.667c-6.741,0-13.376,0.917,19.904,2.304c19.136,26.368,30.571,58.688,30.571,93.696 c0,3.755-0.768,7.317-1.963,10.667H480c5.888,0,10.667-4.779,10.667-10.667C490.667,341.739,447.595,298.667,394.667,298.667z\"></path></svg><img></span>&nbsp;##textoAccion##<br></a>';
                    html = html.replaceAll("##textoAccion##", response);
                    html = html.replace("##idAsignatura##", idAsignatura);
                    html = html.replace("##idUsuario##", idUsuario);
                    html = html.replace("##nombreAsignatura##", nombreAsignatura);
                    $('#botonAccion').html(html);
                    //AÑADO BOTON FORO
                    if (response == "SALIR" || response == "ELIMINAR"){
                        html = '<a href=\"controlador.php?accion=mostrarChat&idAsignatura=##idAsignatura##&idUsuario=##idUsuario##&nombreAsignatura=##nombreAsignatura##\" class=\"u-btn u-btn-round u-button-style u-gradient u-hover-palette-1-base u-none u-radius-50 u-text-body-alt-color u-text-hover-palette-5-base u-btn-1\"><span class=\"u-icon\"><svg class=\"u-svg-content\" viewBox=\"0 0 490.667 490.667\" x=\"0px\" y=\"0px\" style=\"width: 1em; height: 1em;\"><circle cx=\"245.333\" cy=\"160\" r=\"74.667\"></circle><circle cx=\"394.667\" cy=\"224\" r=\"53.333\"></circle><path d=\"M245.333,256c-76.459,0-138.667,62.208-138.667,138.667c0,5.888,4.779,10.667,10.667,10.667h256 c5.888,0,10.667-4.779,10.667-10.667C384,318.208,321.792,256,245.333,256z\"></path><path d=\"M115.904,300.971c-6.528-1.387-13.163-2.304-19.904-2.304c-52.928,0-96,43.072-96,96c0,5.888,4.779,10.667,10.667,10.667    h76.629c-1.195-3.349-1.963-6.912-1.963-10.667C85.333,359.659,96.768,327.339,115.904,300.971z\"></path><path d=\"M394.667,298.667c-6.741,0-13.376,0.917,19.904,2.304c19.136,26.368,30.571,58.688,30.571,93.696 c0,3.755-0.768,7.317-1.963,10.667H480c5.888,0,10.667-4.779,10.667-10.667C490.667,341.739,447.595,298.667,394.667,298.667z\"></path></svg><img></span>&nbsp;Foro<br></a>';
                    html = html.replace("##idAsignatura##", idAsignatura);
                    html = html.replace("##idUsuario##", idUsuario);
                    html = html.replace("##nombreAsignatura##", nombreAsignatura);
                    $('#botonForo').html(html);
                    }
                }
			}
		});

    }

    function mostrarCerrarSesion(){
        $('#cerrarSesion').html('<a class="u-button-style u-nav-link" href="controlador.php?accion=cerrarsesion">CERRAR SESION</a>');
    }

    function mostrarBotonDescargar(){
        const urlString = window.location.search;
        const urlParams = new URLSearchParams(urlString);
        const idAsignatura = urlParams.get('idAsignatura');
        const nombreAsignatura = urlParams.get('nombreAsignatura');
        var url = '<a class="u-black u-border-2 u-border-black u-button-style u-nav-link">DESCARGAR PARTICIPANTES</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10"><li class="u-nav-item"><a class="u-black u-button-style u-nav-link" href = "controlador.php?accion=participantes&format=pdf&idAsignatura=##idAsignatura##&nombreAsignatura=##nombreAsignatura##">PDF</a></li><li class="u-nav-item"><a class="u-black u-button-style u-nav-link" href = "controlador.php?accion=participantes&format=csv&idAsignatura=##idAsignatura##&nombreAsignatura=##nombreAsignatura##">CSV</a></li></ul></div>';
        url = url.replaceAll('##idAsignatura##',idAsignatura);
        url = url.replaceAll('##nombreAsignatura##',nombreAsignatura);
        $('#descargarParticipantes').html(url);
    }

    function mostrarBotonRecursosDrive(){
        const urlString = window.location.search;
        const urlParams = new URLSearchParams(urlString);
        const nombreAsignatura = urlParams.get('nombreAsignatura');
        var url = 'controlador.php?accion=mostrarBotonRecursosDrive&nombreAsignatura=##nombreAsignatura##',
        url = url.replace('##nombreAsignatura##',nombreAsignatura);
        $.ajax({
			type: "GET",
			url: url,
			success: function (response) {
                $("#recursosDrive").html(response);
			}
		});
    }

    function mostrarNombre() {
        const urlString = window.location.search;
        const urlParams = new URLSearchParams(urlString);
        const idAsignatura = urlParams.get('idAsignatura');
        const nombreAsignatura = urlParams.get('nombreAsignatura');
        const idUsuario = urlParams.get('idUsuario');
        var url = "controlador.php?accion=getNombre&urlAnterior=ASIGNATURA&nombreAsignatura=##nombreAsignatura##&idAsignatura=##idAsignatura##&idUsuario=##idUsuario##";
        url = url.replace('##idAsignatura##',idAsignatura);
        url = url.replace('##nombreAsignatura##',nombreAsignatura);
        url = url.replace('##idUsuario##',idUsuario);
		$.ajax({
			type: "GET",
			url: url,
			success: function (response) {
                $("#username").html(response);
                if(response != '')
                {
                    mostrarCerrarSesion();
                    mostrarBotonAccion();
                    mostrarBotonDescargar();
                    mostrarBotonRecursosDrive();
                }
			}
		});
	}
</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="ASIGNATURA">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-xl-mode" onload = mostrarNombre()><header class="u-clearfix u-header u-header" id="sec-22ce">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1">
        <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
          <div class="menu-collapse">
            <a class="u-button-style u-nav-link" href="#">
              <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-cfdd"></use></svg>
              <svg class="u-svg-content" version="1.1" id="svg-cfdd" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
            </a>
          </div>
          <div class="u-custom-menu u-nav-container">
            <ul class="u-nav u-unstyled"><li class="u-nav-item"><h3 class="u-headline u-text u-text-default u-text-1" id='username'>##nombreUsuario##</h3></li>
                <li class="u-nav-item"><a class="u-button-style u-nav-link" href="controlador.php?accion=redireccionarInicio">INICIO</a></li>
<li class="u-nav-item">
    <a class="u-button-style u-nav-link">CURSO</a>
    <div class="u-nav-popup">
        <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
            <li class="u-nav-item">
                <a class="u-button-style u-nav-link u-white">PRIMERO</a>
                <div class="u-nav-popup">
                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                        <li class="u-nav-item">
                            <a onmouseover="javascript:cargarasignaturas(1,1);" class="u-button-style u-nav-link u-white">PRIMER SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura11"></div>
                                    </ul>
                                </div>
                            <a onmouseover="javascript:cargarasignaturas(1,2);" class="u-button-style u-nav-link u-white">SEGUNDO SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura12"></div>
                                    </ul>
                                </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="u-nav-item">
                <a class="u-button-style u-nav-link u-white">SEGUNDO</a>
                <div class="u-nav-popup">
                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                        <li class="u-nav-item">
                            <a onmouseover="javascript:cargarasignaturas(2,1);" class="u-button-style u-nav-link u-white">PRIMER SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura21"></div>
                                    </ul>
                                </div>
                            <a onmouseover="javascript:cargarasignaturas(2,2);" class="u-button-style u-nav-link u-white">SEGUNDO SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura22"></div>
                                    </ul>
                                </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="u-nav-item">
                <a class="u-button-style u-nav-link u-white">TERCERO</a>
                <div class="u-nav-popup">
                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                        <li class="u-nav-item">
                            <a onmouseover="javascript:cargarasignaturas(3,1);" class="u-button-style u-nav-link u-white">PRIMER SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura31"></div>
                                    </ul>
                                </div>
                            <a onmouseover="javascript:cargarasignaturas(3,2);" class="u-button-style u-nav-link u-white">SEGUNDO SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura32"></div>
                                    </ul>
                                </div>
                        </li>
                    </ul>
                </div>
            </li>
            <li class="u-nav-item">
                <a class="u-button-style u-nav-link u-white">CUARTO</a>
                <div class="u-nav-popup">
                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                        <li class="u-nav-item">
                            <a onmouseover="javascript:cargarasignaturas(4,1);" class="u-button-style u-nav-link u-white">PRIMER SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura41"></div>
                                    </ul>
                                </div>
                            <a onmouseover="javascript:cargarasignaturas(4,2);" class="u-button-style u-nav-link u-white">SEGUNDO SEMESTRE</a>
                                <div class="u-nav-popup">
                                    <ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10">
                                        <!-- AQUI VAN LAS ASIGNATURAS -->
                                        <div id="asignatura42"></div>
                                    </ul>
                                </div>
                        </li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
</li>
<li class="u-nav-item" id='recursosDrive'></li>
<li class="u-nav-item" id='cerrarSesion'></li>
<li class="u-nav-item" id='descargarParticipantes'></li></ul>
          </div>
        </nav>
        </header>
        <section class="u-align-center u-clearfix u-section-1" id="sec-90d9">
          <div class="u-clearfix u-sheet u-sheet-1">
            <h1 class="u-text u-text-default u-text-1">##nombreAsignatura##</h1>
            <div class="u-expanded-width u-table u-table-responsive u-table-1">
              <table class="u-table-entity u-table-entity-1">
                <colgroup>
                  <col width="33.5%">
                  <col width="33.5%">
                  <col width="33%">
                </colgroup>
                <thead class="u-align-center u-black u-table-header u-table-header-1">
                  <tr style="height: 51px;">
                    <th class="u-border-1 u-border-black u-table-cell">PARTICIPANTES<br>
                    </th>
                    <th class="u-border-1 u-border-black u-table-cell">CORREO</th>
                    <th class="u-border-1 u-border-black u-table-cell">ROL</th>
                    <th class="u-border-1 u-border-black u-table-cell">TEAMS</th>
                  </tr>
                </thead>
                <tbody class="u-align-center u-grey-70 u-table-body u-table-body-1">
                    ##fila##
                  <tr style="height: 86px;">
                    <td class="u-border-1 u-border-grey-50 u-first-column u-grey-80 u-table-cell u-table-cell-4">##nombreYApellido##</td>
                    <td class="u-border-1 u-border-grey-50 u-table-cell">##correo##</td>
                    <td class="u-border-1 u-border-grey-50 u-table-cell">##rol##</td>
                    <td class="u-border-1 u-border-grey-50 u-table-cell">##TEAMS##</td>
                  </tr>
                  ##fila##
                </tbody>
              </table>
            </div>
            <div id='botonAccion'></div>
            <div id='botonForo'></div>
          </div>
        </section>



        <footer class="u-align-center u-clearfix u-footer u-grey-80 u-footer" id="sec-094a"><div class="u-clearfix u-sheet u-sheet-1">
            <p class="u-small-text u-text u-text-variant u-text-1">Autores: <br>Iñaki Luque Pastor<br>
                    Álvaro Larraya Conejo</p>
          </div></footer>
  </body>
</html>
